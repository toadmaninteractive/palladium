(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{tBez:function(t,e,a){"use strict";a.r(e);var n=a("ofXK"),i=a("tyNb"),c=a("A5z7"),s=a("0IaG"),o=a("NFeN"),r=a("M9IT"),l=a("Dh3D"),b=a("+0xr"),d=a("Qu3c"),m=a("bFKe"),p=a("PCNd"),h=a("0Y/I"),u=a("jRrs"),g=a("XNiG"),f=a("quSY"),v=a("1G5W"),D=a("ZnjG"),C=a("ph7v"),N=a("fXoL");function W(t,e){1&t&&(N.Xb(0,"th",25),N.Nc(1,"Event Name"),N.Wb()),2&t&&N.pc("ngClass","cell-event-name")}function X(t,e){if(1&t&&N.Sb(0,"i",29),2&t){const t=N.jc().$implicit;N.pc("matTooltip",t.description||null)}}function y(t,e){if(1&t&&(N.Xb(0,"td",26),N.Xb(1,"strong",27),N.Nc(2),N.Wb(),N.Lc(3,X,1,1,"i",28),N.Wb()),2&t){const t=e.$implicit;N.pc("ngClass","cell-event-name"),N.Db(2),N.Oc(t.name),N.Db(1),N.pc("ngIf",t.description)}}function S(t,e){1&t&&(N.Xb(0,"th",30),N.Nc(1,"Group"),N.Wb())}function w(t,e){if(1&t&&(N.Xb(0,"td",31),N.Nc(1),N.Wb()),2&t){const t=e.$implicit;N.Db(1),N.Pc(" ",t.group||"None"," ")}}function _(t,e){1&t&&(N.Xb(0,"th",32),N.Nc(1,"In game/Tested/Active"),N.Wb())}const O=function(t,e){return{"m-badge--success":t,"m-badge--secondary":e}};function j(t,e){if(1&t&&(N.Xb(0,"td",26),N.Xb(1,"span",33),N.Nc(2," i "),N.Wb(),N.Xb(3,"span",33),N.Nc(4," t "),N.Wb(),N.Xb(5,"span",33),N.Nc(6," a "),N.Wb(),N.Wb()),2&t){const t=e.$implicit;N.pc("ngClass","cell-event-status"),N.Db(1),N.pc("ngClass",N.vc(4,O,t.isImplemented,!t.isImplemented)),N.Db(2),N.pc("ngClass",N.vc(7,O,t.isTested,!t.isTested)),N.Db(2),N.pc("ngClass",N.vc(10,O,!0===t.isActivated,!t.isActivated))}}function L(t,e){1&t&&(N.Xb(0,"th",30),N.Nc(1,"Date Added"),N.Wb())}function E(t,e){if(1&t&&(N.Xb(0,"td",34),N.Nc(1),N.kc(2,"date"),N.Wb()),2&t){const t=e.$implicit;N.Db(1),N.Pc(" ",N.mc(2,1,t.addedAt,"dd/MM/yyyy")," ")}}function T(t,e){1&t&&(N.Xb(0,"th",35),N.Nc(1,"Parameter list"),N.Wb())}function P(t,e){if(1&t&&(N.Xb(0,"span",39),N.Nc(1),N.Wb()),2&t){const t=e.$implicit;N.Db(1),N.Pc(" ",t," ")}}function z(t,e){if(1&t&&(N.Xb(0,"span",40),N.Nc(1),N.Wb()),2&t){const t=e.$implicit;N.Db(1),N.Pc(" ",t," ")}}function x(t,e){if(1&t&&(N.Xb(0,"td",36),N.Lc(1,P,2,1,"span",37),N.Lc(2,z,2,1,"span",38),N.Wb()),2&t){const t=e.$implicit,a=N.jc(2);N.Db(1),N.pc("ngForOf",null==a.eventData?null:a.eventData.superFields),N.Db(1),N.pc("ngForOf",t.fields)}}function A(t,e){1&t&&N.Sb(0,"tr",41)}function I(t,e){1&t&&N.Sb(0,"tr",42)}function M(t,e){if(1&t){const t=N.Yb();N.Xb(0,"table",9),N.fc("matSortChange",(function(e){return N.Cc(t),N.jc().sortTable(e)})),N.Vb(1,10),N.Lc(2,W,2,1,"th",11),N.Lc(3,y,4,3,"td",12),N.Ub(),N.Vb(4,13),N.Lc(5,S,2,0,"th",14),N.Lc(6,w,2,1,"td",15),N.Ub(),N.Vb(7,16),N.Lc(8,_,2,0,"th",17),N.Lc(9,j,7,13,"td",12),N.Ub(),N.Vb(10,18),N.Lc(11,L,2,0,"th",14),N.Lc(12,E,3,4,"td",19),N.Ub(),N.Vb(13,20),N.Lc(14,T,2,0,"th",21),N.Lc(15,x,3,2,"td",22),N.Ub(),N.Lc(16,A,1,0,"tr",23),N.Lc(17,I,1,0,"tr",24),N.Wb()}if(2&t){const t=N.jc();N.pc("dataSource",t.dataSource),N.Db(16),N.pc("matHeaderRowDef",t.displayedColumns),N.Db(1),N.pc("matRowDefColumns",t.displayedColumns)}}let $=(()=>{class t{constructor(t,e,a,n){this.route=t,this.cdr=e,this.dialog=a,this.queryService=n,this.destroy$=new g.a,this.displayedColumns=["name","group","status","addedAt","fields"],this.pageSize=20,this.pageSizes=[10,20,50,100],this.route.data.pipe(Object(v.a)(this.destroy$)).subscribe(t=>this.initialize(t.activeProject.project))}ngAfterViewInit(){this.eventData&&this.updateEvents(this.eventData)}ngOnDestroy(){this.subEvents instanceof f.a&&this.subEvents.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}initialize(t){this.project=t,this.getEvents(this.project.id)}updateEvents(t){this.eventData=t;const e=new Map;this.eventData.groups.forEach(t=>{t.events.forEach(a=>{const n=e.has(a)?e.get(a):[];n.push(t.name),e.set(a,n)})}),this.eventData.events.forEach(t=>{const a=e.has(t.id)?e.get(t.id):[];t.group=a.join(", ")}),this.dataSource=new b.k([]),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.sortTable({active:"name",direction:"asc"})}getEvents(t){this.subEvents instanceof f.a&&this.subEvents.unsubscribe(),this.subEvents=this.queryService.getEvents(t).pipe(Object(v.a)(this.destroy$)).subscribe(t=>this.updateEvents(t))}sortTable(t){const e=this.eventData.events.slice();t.active&&""!==t.direction?(this.dataSource.data=e.sort((e,a)=>{const n="asc"===t.direction;switch(t.active){case"name":return Object(D.a)(e.name,a.name,n);case"group":return Object(D.a)(e.group,a.group,n);case"addedAt":return Object(D.a)(e.addedAt.getTime(),a.addedAt.getTime(),n);default:return 0}}),setTimeout(()=>this.cdr.detectChanges())):this.dataSource.data=e}openDialog(){this.dialog.open(k)}}return t.\u0275fac=function(e){return new(e||t)(N.Rb(i.a),N.Rb(N.h),N.Rb(s.a),N.Rb(C.a))},t.\u0275cmp=N.Lb({type:t,selectors:[["m-events-overview"]],viewQuery:function(t,e){var a;1&t&&(N.Ic(r.a,!0),N.Ic(l.a,!0)),2&t&&(N.xc(a=N.gc())&&(e.paginator=a.first),N.xc(a=N.gc())&&(e.sort=a.first))},decls:10,vars:3,consts:[[1,"m-portlet","m-portlet--ngviewer","basic-font"],[1,"m-portlet__head","compact"],[1,"m-portlet__head-caption"],[1,"m-portlet__head-title"],[1,"m-portlet__head-text","basic-font","f-w-700","black"],["matTooltip","Click to show description","matTooltipClass","basic-font",1,"la","la-info-circle","hint-icon","ml-1",2,"margin-top","-5px",3,"click"],[1,"m-portlet__body","m-portlet__body--no-padding"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",3,"dataSource","matSortChange",4,"ngIf"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["mat-table","","matSort","","matSortActive","name","matSortDirection","asc","matSortDisableClear","",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","group"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","addedAt"],["mat-cell","","class","m-date",4,"matCellDef"],["matColumnDef","fields"],["mat-header-cell","","style","width: 65%;",4,"matHeaderCellDef"],["mat-cell","","style","width: 65%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",3,"ngClass"],["mat-cell","",3,"ngClass"],[1,"v-a-text-bottom",2,"line-height","20px"],["class","la la-info-circle hint-icon ml-1 f-s-20","matTooltipClass","basic-font",3,"matTooltip",4,"ngIf"],["matTooltipClass","basic-font",1,"la","la-info-circle","hint-icon","ml-1","f-s-20",3,"matTooltip"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"m-badge",3,"ngClass"],["mat-cell","",1,"m-date"],["mat-header-cell","",2,"width","65%"],["mat-cell","",2,"width","65%"],["class","btn m-btn--pill btn-outline-secondary mr-2 mt-1 mb-1 m-btn-disabled m-btn-grey",4,"ngFor","ngForOf"],["class","btn m-btn--pill btn-outline-secondary mr-2 mt-1 mb-1 m-btn-disabled",4,"ngFor","ngForOf"],[1,"btn","m-btn--pill","btn-outline-secondary","mr-2","mt-1","mb-1","m-btn-disabled","m-btn-grey"],[1,"btn","m-btn--pill","btn-outline-secondary","mr-2","mt-1","mb-1","m-btn-disabled"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"div",1),N.Xb(2,"div",2),N.Xb(3,"div",3),N.Xb(4,"h1",4),N.Nc(5," Tracked event list "),N.Wb(),N.Xb(6,"i",5),N.fc("click",(function(){return e.openDialog()})),N.Wb(),N.Wb(),N.Wb(),N.Wb(),N.Xb(7,"div",6),N.Lc(8,M,18,3,"table",7),N.Sb(9,"mat-paginator",8),N.Wb(),N.Wb()),2&t&&(N.Db(8),N.pc("ngIf",e.dataSource),N.Db(1),N.pc("pageSize",e.pageSize)("pageSizeOptions",e.pageSizes))},directives:[d.a,n.m,r.a,b.j,l.a,b.c,b.e,b.b,b.g,b.i,b.d,l.b,n.k,b.a,n.l,b.f,b.h],pipes:[n.e],styles:[".m-badge[_ngcontent-%COMP%]{font-size:1em;border-radius:5px;padding:3px;margin:3px}.m-btn-disabled[_ngcontent-%COMP%]{pointer-events:none}.hint-icon[_ngcontent-%COMP%]{font-size:1.3rem!important;font-weight:600;vertical-align:super;color:hsla(0,0%,59.2%,.5);cursor:pointer;-webkit-transition:all 125ms linear;transition:all 125ms linear}.hint-icon[_ngcontent-%COMP%]:hover{color:#979797}.hint-icon-btn[_ngcontent-%COMP%]{font-size:2rem;vertical-align:middle;color:#716aca;cursor:pointer}.m-btn-hint[_ngcontent-%COMP%]{width:2.2rem;height:2.2rem;border-radius:50%}.m-btn-grey[_ngcontent-%COMP%]{background-color:#eaeaea}.btn-outline-secondary[_ngcontent-%COMP%]{color:#575962!important;padding:4px;border-radius:5px}"],changeDetection:0}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=N.Lb({type:t,selectors:[["m-events-dialog"]],decls:35,vars:0,consts:[[2,"color","#3F4047","font-size","14px"]],template:function(t,e){1&t&&(N.Xb(0,"div",0),N.Xb(1,"h1"),N.Nc(2,"What are the events?"),N.Wb(),N.Xb(3,"p"),N.Nc(4,"Every game project has a number of "),N.Xb(5,"strong"),N.Nc(6,"events"),N.Wb(),N.Nc(7," that are "),N.Xb(8,"strong"),N.Nc(9,"triggered"),N.Wb(),N.Nc(10," when a "),N.Xb(11,"strong"),N.Nc(12,"certain behavior is observed."),N.Wb(),N.Wb(),N.Xb(13,"p"),N.Nc(14,"Every "),N.Xb(15,"strong"),N.Nc(16,"event"),N.Wb(),N.Nc(17," has a number of "),N.Xb(18,"strong"),N.Nc(19,"parameters"),N.Wb(),N.Nc(20," that store the game state."),N.Sb(21,"br"),N.Nc(22," Ex.: event_name: session_id, account_id, datetime, match_id.. etc "),N.Wb(),N.Xb(23,"p"),N.Nc(24," When an event is triggered, "),N.Xb(25,"strong"),N.Nc(26,"parameter values"),N.Wb(),N.Nc(27," from a particular game client are being sent to the analytics database. "),N.Wb(),N.Xb(28,"p"),N.Nc(29," Here you can find a "),N.Xb(30,"strong"),N.Nc(31,"list of all event"),N.Wb(),N.Nc(32," that is assigned to the project."),N.Sb(33,"br"),N.Nc(34," Some of them can be not implemented/tested/activated. "),N.Wb(),N.Wb())},encapsulation:2}),t})();a.d(e,"EventsModule",(function(){return F}));let F=(()=>{class t{}return t.\u0275mod=N.Pb({type:t}),t.\u0275inj=N.Ob({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,c.a,s.b,o.b,r.b,l.c,b.l,d.b,m.c,p.a,h.a,i.i.forChild([{path:"**",component:$,resolve:{activeProject:u.a}}])]]}),t})()}}]);